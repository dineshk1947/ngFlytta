!function(t,r){var i=[].slice,e={};t.amplify={publish:function(t){if("string"!=typeof t)throw new Error("You must provide a valid topic to publish.");var r,n,o,l,u=i.call(arguments,1),a=0;if(!e[t])return!0;for(r=e[t].slice(),o=r.length;o>a&&(n=r[a],l=n.callback.apply(n.context,u),l!==!1);a++);return l!==!1},subscribe:function(t,r,i,n){if("string"!=typeof t)throw new Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"==typeof i&&(n=i,i=r,r=null),2===arguments.length&&(i=r,r=null),n=n||10;for(var o,l=0,u=t.split(/\s/),a=u.length;a>l;l++){t=u[l],o=!1,e[t]||(e[t]=[]);for(var s=e[t].length-1,c={callback:i,context:r,priority:n};s>=0;s--)if(e[t][s].priority<=n){e[t].splice(s+1,0,c),o=!0;break}o||e[t].unshift(c)}return i},unsubscribe:function(t,r,i){if("string"!=typeof t)throw new Error("You must provide a valid topic to remove a subscription.");if(2===arguments.length&&(i=r,r=null),e[t])for(var n=e[t].length,o=0;n>o;o++)e[t][o].callback===i&&(!r||e[t][o].context===r)&&(e[t].splice(o,1),o--,n--)}}}(this);
!function(e,t){var r=[].slice,s={};e.amplify={publish:function(e){if("string"!=typeof e)throw new Error("You must provide a valid topic to publish.");var t,n,u,o,a=r.call(arguments,1),i=0;if(!s[e])return!0;for(t=s[e].slice(),u=t.length;u>i&&(n=t[i],o=n.callback.apply(n.context,a),o!==!1);i++);return o!==!1},subscribe:function(e,t,r,n){if("string"!=typeof e)throw new Error("You must provide a valid topic to create a subscription.");3===arguments.length&&"number"==typeof r&&(n=r,r=t,t=null),2===arguments.length&&(r=t,t=null),n=n||10;for(var u,o=0,a=e.split(/\s/),i=a.length;i>o;o++){e=a[o],u=!1,s[e]||(s[e]=[]);for(var c=s[e].length-1,l={callback:r,context:t,priority:n};c>=0;c--)if(s[e][c].priority<=n){s[e].splice(c+1,0,l),u=!0;break}u||s[e].unshift(l)}return r},unsubscribe:function(e,t,r){if("string"!=typeof e)throw new Error("You must provide a valid topic to remove a subscription.");if(2===arguments.length&&(r=t,t=null),s[e])for(var n=s[e].length,u=0;n>u;u++)s[e][u].callback===r&&(!t||s[e][u].context===t)&&(s[e].splice(u,1),u--,n--)}}}(this),function(e,t){function r(e,r){s.addType(e,function(u,o,a){var i,c,l,p,f=o,d=(new Date).getTime();if(!u){f={},p=[],l=0;try{for(u=r.length;u=r.key(l++);)n.test(u)&&(c=JSON.parse(r.getItem(u)),c.expires&&c.expires<=d?p.push(u):f[u.replace(n,"")]=c.data);for(;u=p.pop();)r.removeItem(u)}catch(y){}return f}if(u="__amplify__"+u,o===t){if(i=r.getItem(u),c=i?JSON.parse(i):{expires:-1},!(c.expires&&c.expires<=d))return c.data;r.removeItem(u)}else if(null===o)r.removeItem(u);else{c=JSON.stringify({data:o,expires:a.expires?d+a.expires:null});try{r.setItem(u,c)}catch(y){s[e]();try{r.setItem(u,c)}catch(y){throw s.error()}}}return f})}var s=e.store=function(e,t,r){var n=s.type;return r&&r.type&&r.type in s.types&&(n=r.type),s.types[n](e,t,r||{})};s.types={},s.type=null,s.addType=function(e,t){s.type||(s.type=e),s.types[e]=t,s[e]=function(t,r,n){return n=n||{},n.type=e,s(t,r,n)}},s.error=function(){return"amplify.store quota exceeded"};var n=/^__amplify__/;for(var u in{localStorage:1,sessionStorage:1})try{window[u].setItem("__amplify__","x"),window[u].removeItem("__amplify__"),r(u,window[u])}catch(o){}if(!s.types.localStorage&&window.globalStorage)try{r("globalStorage",window.globalStorage[window.location.hostname]),"sessionStorage"===s.type&&(s.type="globalStorage")}catch(o){}!function(){if(!s.types.localStorage){var e=document.createElement("div"),r="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(r)}catch(n){return void e.parentNode.removeChild(e)}s.addType("userData",function(n,u,o){e.load(r);var a,i,c,l,p,f=u,d=(new Date).getTime();if(!n){for(f={},p=[],l=0;a=e.XMLDocument.documentElement.attributes[l++];)i=JSON.parse(a.value),i.expires&&i.expires<=d?p.push(a.name):f[a.name]=i.data;for(;n=p.pop();)e.removeAttribute(n);return e.save(r),f}if(n=n.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),n=n.replace(/^-/,"_-"),u===t){if(a=e.getAttribute(n),i=a?JSON.parse(a):{expires:-1},!(i.expires&&i.expires<=d))return i.data;e.removeAttribute(n)}else null===u?e.removeAttribute(n):(c=e.getAttribute(n),i=JSON.stringify({data:u,expires:o.expires?d+o.expires:null}),e.setAttribute(n,i));try{e.save(r)}catch(y){null===c?e.removeAttribute(n):e.setAttribute(n,c),s.userData();try{e.setAttribute(n,i),e.save(r)}catch(y){throw null===c?e.removeAttribute(n):e.setAttribute(n,c),s.error()}}return f})}}(),function(){function e(e){return e===t?t:JSON.parse(JSON.stringify(e))}var r={},n={};s.addType("memory",function(s,u,o){return s?u===t?e(r[s]):(n[s]&&(clearTimeout(n[s]),delete n[s]),null===u?(delete r[s],null):(r[s]=u,o.expires&&(n[s]=setTimeout(function(){delete r[s],delete n[s]},o.expires)),u)):e(r)})}()}(this.amplify=this.amplify||{}),function(e,t){"use strict";function r(){}function s(e){return"[object Function]"==={}.toString.call(e)}function n(e){var t=!1;return setTimeout(function(){t=!0},1),function(){var r=this,s=arguments;t?e.apply(r,s):setTimeout(function(){e.apply(r,s)},1)}}e.request=function(t,u,o){var a=t||{};"string"==typeof a&&(s(u)&&(o=u,u={}),a={resourceId:t,data:u||{},success:o});var i={abort:r},c=e.request.resources[a.resourceId],l=a.success||r,p=a.error||r;if(a.success=n(function(t,r){r=r||"success",e.publish("request.success",a,t,r),e.publish("request.complete",a,t,r),l(t,r)}),a.error=n(function(t,r){r=r||"error",e.publish("request.error",a,t,r),e.publish("request.complete",a,t,r),p(t,r)}),!c)throw a.resourceId?"amplify.request: unknown resourceId: "+a.resourceId:"amplify.request: no resourceId provided";return e.publish("request.before",a)?(e.request.resources[a.resourceId](a,i),i):void a.error(null,"abort")},e.request.types={},e.request.resources={},e.request.define=function(t,r,s){if("string"==typeof r){if(!(r in e.request.types))throw"amplify.request.define: unknown type: "+r;s.resourceId=t,e.request.resources[t]=e.request.types[r](s)}else e.request.resources[t]=r}}(amplify),function(e,t,r){"use strict";var s=["status","statusText","responseText","responseXML","readyState"],n=/\{([^\}]+)\}/g;e.request.types.ajax=function(n){return n=t.extend({type:"GET"},n),function(u,o){var a,i,c=(n.url,o.abort),l=t.extend(!0,{},n,{data:u.data}),p=!1,f={readyState:0,setRequestHeader:function(e,t){return a.setRequestHeader(e,t)},getAllResponseHeaders:function(){return a.getAllResponseHeaders()},getResponseHeader:function(e){return a.getResponseHeader(e)},overrideMimeType:function(e){return a.overrideMimeType(e)},abort:function(){p=!0;try{a.abort()}catch(e){}i(null,"abort")},success:function(e,t){u.success(e,t)},error:function(e,t){u.error(e,t)}};i=function(e,n){t.each(s,function(e,t){try{f[t]=a[t]}catch(r){}}),/OK$/.test(f.statusText)&&(f.statusText="success"),e===r&&(e=null),p&&(n="abort"),/timeout|error|abort/.test(n)?f.error(e,n):f.success(e,n),i=t.noop},e.publish("request.ajax.preprocess",n,u,l,f),t.extend(l,{isJSONP:function(){return/jsonp/gi.test(this.dataType)},cacheURL:function(){if(!this.isJSONP())return this.url;var e="callback";this.hasOwnProperty("jsonp")&&(this.jsonp!==!1?e=this.jsonp:this.hasOwnProperty("jsonpCallback")&&(e=this.jsonpCallback));var t=new RegExp("&?"+e+"=[^&]*&?","gi");return this.url.replace(t,"")},success:function(e,t){i(e,t)},error:function(e,t){i(null,t)},beforeSend:function(t,r){a=t,l=r;var s=n.beforeSend?n.beforeSend.call(this,f,l):!0;return s&&e.publish("request.before.ajax",n,u,l,f)}}),l.cache&&l.isJSONP()&&t.extend(l,{cache:!0}),t.ajax(l),o.abort=function(){f.abort(),c.call(this)}}},e.subscribe("request.ajax.preprocess",function(e,r,s){var u=[],o=s.data;"string"!=typeof o&&(o=t.extend(!0,{},e.data,o),s.url=s.url.replace(n,function(e,t){return t in o?(u.push(t),o[t]):void 0}),t.each(u,function(e,t){delete o[t]}),s.data=o)}),e.subscribe("request.ajax.preprocess",function(e,r,s){var n=s.data,u=e.dataMap;u&&"string"!=typeof n&&(t.isFunction(u)?s.data=u(n):(t.each(e.dataMap,function(e,t){e in n&&(n[t]=n[e],delete n[e])}),s.data=n))});var u=e.request.cache={_key:function(e,t,r){function s(){return r.charCodeAt(u++)<<24|r.charCodeAt(u++)<<16|r.charCodeAt(u++)<<8|r.charCodeAt(u++)<<0}r=t+r;for(var n=r.length,u=0,o=s();n>u;)o^=s();return"request-"+e+"-"+o},_default:function(){var e={};return function(t,r,s,n){var o=u._key(r.resourceId,s.cacheURL(),s.data),a=t.cache;if(o in e)return n.success(e[o]),!1;var i=n.success;n.success=function(t){e[o]=t,"number"==typeof a&&setTimeout(function(){delete e[o]},a),i.apply(this,arguments)}}}()};e.store&&(t.each(e.store.types,function(t){u[t]=function(r,s,n,o){var a=u._key(s.resourceId,n.cacheURL(),n.data),i=e.store[t](a);if(i)return n.success(i),!1;var c=o.success;o.success=function(s){e.store[t](a,s,{expires:r.cache.expires}),c.apply(this,arguments)}}}),u.persist=u[e.store.type]),e.subscribe("request.before.ajax",function(e){var t=e.cache;return t?(t=t.type||t,u[t in u?t:"_default"].apply(this,arguments)):void 0}),e.request.decoders={jsend:function(e,t,r,s,n){"success"===e.status?s(e.data):"fail"===e.status?n(e.data,"fail"):"error"===e.status?(delete e.status,n(e,"error")):n(null,"error")}},e.subscribe("request.before.ajax",function(r,s,n,u){function o(e,t){i(e,t)}function a(e,t){c(e,t)}var i=u.success,c=u.error,l=t.isFunction(r.decoder)?r.decoder:r.decoder in e.request.decoders?e.request.decoders[r.decoder]:e.request.decoders._default;l&&(u.success=function(e,t){l(e,t,u,o,a)},u.error=function(e,t){l(e,t,u,o,a)})})}(amplify,jQuery);
!function(e,r){"use strict";function t(){}function s(e){return"[object Function]"==={}.toString.call(e)}function u(e){var r=!1;return setTimeout(function(){r=!0},1),function(){var t=this,s=arguments;r?e.apply(t,s):setTimeout(function(){e.apply(t,s)},1)}}e.request=function(r,n,c){var o=r||{};"string"==typeof o&&(s(n)&&(c=n,n={}),o={resourceId:r,data:n||{},success:c});var a={abort:t},i=e.request.resources[o.resourceId],f=o.success||t,d=o.error||t;if(o.success=u(function(r,t){t=t||"success",e.publish("request.success",o,r,t),e.publish("request.complete",o,r,t),f(r,t)}),o.error=u(function(r,t){t=t||"error",e.publish("request.error",o,r,t),e.publish("request.complete",o,r,t),d(r,t)}),!i){if(!o.resourceId)throw"amplify.request: no resourceId provided";throw"amplify.request: unknown resourceId: "+o.resourceId}return e.publish("request.before",o)?(e.request.resources[o.resourceId](o,a),a):void o.error(null,"abort")},e.request.types={},e.request.resources={},e.request.define=function(r,t,s){if("string"==typeof t){if(!(t in e.request.types))throw"amplify.request.define: unknown type: "+t;s.resourceId=r,e.request.resources[r]=e.request.types[t](s)}else e.request.resources[r]=t}}(amplify),function(e,r,t){"use strict";var s=["status","statusText","responseText","responseXML","readyState"],u=/\{([^\}]+)\}/g;e.request.types.ajax=function(u){return u=r.extend({type:"GET"},u),function(n,c){var o,a,i=(u.url,c.abort),f=r.extend(!0,{},u,{data:n.data}),d=!1,p={readyState:0,setRequestHeader:function(e,r){return o.setRequestHeader(e,r)},getAllResponseHeaders:function(){return o.getAllResponseHeaders()},getResponseHeader:function(e){return o.getResponseHeader(e)},overrideMimeType:function(e){return o.overrideMimeType(e)},abort:function(){d=!0;try{o.abort()}catch(e){}a(null,"abort")},success:function(e,r){n.success(e,r)},error:function(e,r){n.error(e,r)}};a=function(e,u){r.each(s,function(e,r){try{p[r]=o[r]}catch(t){}}),/OK$/.test(p.statusText)&&(p.statusText="success"),e===t&&(e=null),d&&(u="abort"),/timeout|error|abort/.test(u)?p.error(e,u):p.success(e,u),a=r.noop},e.publish("request.ajax.preprocess",u,n,f,p),r.extend(f,{isJSONP:function(){return/jsonp/gi.test(this.dataType)},cacheURL:function(){if(!this.isJSONP())return this.url;var e="callback";this.hasOwnProperty("jsonp")&&(this.jsonp!==!1?e=this.jsonp:this.hasOwnProperty("jsonpCallback")&&(e=this.jsonpCallback));var r=new RegExp("&?"+e+"=[^&]*&?","gi");return this.url.replace(r,"")},success:function(e,r){a(e,r)},error:function(e,r){a(null,r)},beforeSend:function(r,t){o=r,f=t;var s=u.beforeSend?u.beforeSend.call(this,p,f):!0;return s&&e.publish("request.before.ajax",u,n,f,p)}}),f.cache&&f.isJSONP()&&r.extend(f,{cache:!0}),r.ajax(f),c.abort=function(){p.abort(),i.call(this)}}},e.subscribe("request.ajax.preprocess",function(e,t,s){var n=[],c=s.data;"string"!=typeof c&&(c=r.extend(!0,{},e.data,c),s.url=s.url.replace(u,function(e,r){return r in c?(n.push(r),c[r]):void 0}),r.each(n,function(e,r){delete c[r]}),s.data=c)}),e.subscribe("request.ajax.preprocess",function(e,t,s){var u=s.data,n=e.dataMap;n&&"string"!=typeof u&&(r.isFunction(n)?s.data=n(u):(r.each(e.dataMap,function(e,r){e in u&&(u[r]=u[e],delete u[e])}),s.data=u))});var n=e.request.cache={_key:function(e,r,t){function s(){return t.charCodeAt(n++)<<24|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<0}t=r+t;for(var u=t.length,n=0,c=s();u>n;)c^=s();return"request-"+e+"-"+c},_default:function(){var e={};return function(r,t,s,u){var c=n._key(t.resourceId,s.cacheURL(),s.data),o=r.cache;if(c in e)return u.success(e[c]),!1;var a=u.success;u.success=function(r){e[c]=r,"number"==typeof o&&setTimeout(function(){delete e[c]},o),a.apply(this,arguments)}}}()};e.store&&(r.each(e.store.types,function(r){n[r]=function(t,s,u,c){var o=n._key(s.resourceId,u.cacheURL(),u.data),a=e.store[r](o);if(a)return u.success(a),!1;var i=c.success;c.success=function(s){e.store[r](o,s,{expires:t.cache.expires}),i.apply(this,arguments)}}}),n.persist=n[e.store.type]),e.subscribe("request.before.ajax",function(e){var r=e.cache;return r?(r=r.type||r,n[r in n?r:"_default"].apply(this,arguments)):void 0}),e.request.decoders={jsend:function(e,r,t,s,u){"success"===e.status?s(e.data):"fail"===e.status?u(e.data,"fail"):"error"===e.status?(delete e.status,u(e,"error")):u(null,"error")}},e.subscribe("request.before.ajax",function(t,s,u,n){function c(e,r){a(e,r)}function o(e,r){i(e,r)}var a=n.success,i=n.error,f=r.isFunction(t.decoder)?t.decoder:t.decoder in e.request.decoders?e.request.decoders[t.decoder]:e.request.decoders._default;f&&(n.success=function(e,r){f(e,r,n,c,o)},n.error=function(e,r){f(e,r,n,c,o)})})}(amplify,jQuery);
(function(e,t){function i(e,i){n.addType(e,function(s,o,u){var a,f,l,c,h=o,p=(new Date).getTime();if(!s){h={},c=[],l=0;try{s=i.length;while(s=i.key(l++))r.test(s)&&(f=JSON.parse(i.getItem(s)),f.expires&&f.expires<=p?c.push(s):h[s.replace(r,"")]=f.data);while(s=c.pop())i.removeItem(s)}catch(d){}return h}s="__amplify__"+s;if(o===t){a=i.getItem(s),f=a?JSON.parse(a):{expires:-1};if(!(f.expires&&f.expires<=p))return f.data;i.removeItem(s)}else if(o===null)i.removeItem(s);else{f=JSON.stringify({data:o,expires:u.expires?p+u.expires:null});try{i.setItem(s,f)}catch(d){n[e]();try{i.setItem(s,f)}catch(d){throw n.error()}}}return h})}var n=e.store=function(e,t,r){var i=n.type;return r&&r.type&&r.type in n.types&&(i=r.type),n.types[i](e,t,r||{})};n.types={},n.type=null,n.addType=function(e,t){n.type||(n.type=e),n.types[e]=t,n[e]=function(t,r,i){return i=i||{},i.type=e,n(t,r,i)}},n.error=function(){return"amplify.store quota exceeded"};var r=/^__amplify__/;for(var s in{localStorage:1,sessionStorage:1})try{window[s].setItem("__amplify__","x"),window[s].removeItem("__amplify__"),i(s,window[s])}catch(o){}if(!n.types.localStorage&&window.globalStorage)try{i("globalStorage",window.globalStorage[window.location.hostname]),n.type==="sessionStorage"&&(n.type="globalStorage")}catch(o){}(function(){if(n.types.localStorage)return;var e=document.createElement("div"),r="amplify";e.style.display="none",document.getElementsByTagName("head")[0].appendChild(e);try{e.addBehavior("#default#userdata"),e.load(r)}catch(i){e.parentNode.removeChild(e);return}n.addType("userData",function(i,s,o){e.load(r);var u,a,f,l,c,h=s,p=(new Date).getTime();if(!i){h={},c=[],l=0;while(u=e.XMLDocument.documentElement.attributes[l++])a=JSON.parse(u.value),a.expires&&a.expires<=p?c.push(u.name):h[u.name]=a.data;while(i=c.pop())e.removeAttribute(i);return e.save(r),h}i=i.replace(/[^\-._0-9A-Za-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c-\u200d\u203f\u2040\u2070-\u218f]/g,"-"),i=i.replace(/^-/,"_-");if(s===t){u=e.getAttribute(i),a=u?JSON.parse(u):{expires:-1};if(!(a.expires&&a.expires<=p))return a.data;e.removeAttribute(i)}else s===null?e.removeAttribute(i):(f=e.getAttribute(i),a=JSON.stringify({data:s,expires:o.expires?p+o.expires:null}),e.setAttribute(i,a));try{e.save(r)}catch(d){f===null?e.removeAttribute(i):e.setAttribute(i,f),n.userData();try{e.setAttribute(i,a),e.save(r)}catch(d){throw f===null?e.removeAttribute(i):e.setAttribute(i,f),n.error()}}return h})})(),function(){function i(e){return e===t?t:JSON.parse(JSON.stringify(e))}var e={},r={};n.addType("memory",function(n,s,o){return n?s===t?i(e[n]):(r[n]&&(clearTimeout(r[n]),delete r[n]),s===null?(delete e[n],null):(e[n]=s,o.expires&&(r[n]=setTimeout(function(){delete e[n],delete r[n]},o.expires)),s)):i(e)})}()})(this.amplify=this.amplify||{})
